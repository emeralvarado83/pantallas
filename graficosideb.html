<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráficos IDEB</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex flex-col items-center justify-center h-screen m-0 font-sans">
    <div class="flex flex-col items-center justify-center w-4/5 max-w-3xl">
        
        <div class="flex flex-col items-center w-full mb-5 border border-gray-300 rounded-lg bg-gray-100 p-4">
            <h3>Comparación IDEB (2016-Actualidad)</h3>
            <canvas id="grafico" class="w-full !h-[300px]"></canvas>
        </div>

        <table class="block w-full border-collapse overflow-x-auto font-sans">
            <thead>
              <tr class="bg-gray-200">
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">Año</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2016</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2017</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2018</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2019</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2020</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2021</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2022</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2023</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2024</th>
                <th class="px-4 py-2 border border-gray-300 text-center min-w-[200px]">2025</th>
              </tr>
            </thead>
            <tbody>
              <tr class="hover:bg-gray-100">
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px] font-bold">Municipios</td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">Planeado</span><span class="text-xs p-1 border border-gray-300 text-center">Observado</span>
                    </div>
                </td>
              </tr>
              <tr class="hover:bg-gray-100">
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px] font-bold">Alagoinhas</td>
              </tr>
              <tr class="hover:bg-gray-100">
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">Escuela 1</td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">4,00</span><span class="text-xs p-1 border border-gray-300 text-center">2,90</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">2,50</span><span class="text-xs p-1 border border-gray-300 text-center">1,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,70</span><span class="text-xs p-1 border border-gray-300 text-center">2,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,00</span><span class="text-xs p-1 border border-gray-300 text-center">2,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">2,20</span><span class="text-xs p-1 border border-gray-300 text-center">3,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,50</span><span class="text-xs p-1 border border-gray-300 text-center">3,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,50</span><span class="text-xs p-1 border border-gray-300 text-center">2,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,50</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">4,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,30</span>
                    </div>
                </td>
              </tr>
              <tr class="hover:bg-gray-100">
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">Escuela 2</td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">1,20</span><span class="text-xs p-1 border border-gray-300 text-center">2,10</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,00</span><span class="text-xs p-1 border border-gray-300 text-center">4,30</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">2,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,50</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,80</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">4,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,00</span><span class="text-xs p-1 border border-gray-300 text-center">3,30</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,70</span><span class="text-xs p-1 border border-gray-300 text-center">3,40</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,50</span><span class="text-xs p-1 border border-gray-300 text-center">4,80</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">4,20</span><span class="text-xs p-1 border border-gray-300 text-center">3,50</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center">3,50</span><span class="text-xs p-1 border border-gray-300 text-center">4,00</span>
                    </div>
                </td>
              </tr>
              <tr class="bg-gray-200">
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px] font-bold">Total</td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">5,20</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">5,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">5,50</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">5,30</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">5,70</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">5,50</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">6,00</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">5,80</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">6,20</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">6,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">6,50</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">6,30</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">6,70</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">6,40</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">7,00</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">6,80</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">7,20</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">7,00</span>
                    </div>
                </td>
                <td class="px-3 py-2 border border-gray-300 text-center min-w-[200px]">
                    <div class="flex justify-center">
                        <span class="text-xs p-1 border border-gray-300 text-center font-bold">7,50</span><span class="text-xs p-1 border border-gray-300 text-center font-bold">7,30</span>
                    </div>
                </td>
              </tr>
            </tbody>
        </table>  

    </div>

    <script>
        // Definir los datos para los años 2016 hasta el año actual
        const datosIDEB = {
            "2016": { planeado: 5.2, observado: 5.0 },
            "2017": { planeado: 5.5, observado: 5.3 },
            "2018": { planeado: 5.7, observado: 5.5 },
            "2019": { planeado: 6.0, observado: 5.8 },
            "2020": { planeado: 6.2, observado: 6.0 },
            "2021": { planeado: 6.5, observado: 6.3 },
            "2022": { planeado: 6.7, observado: 6.4 },
            "2023": { planeado: 7.0, observado: 6.8 },
            "2024": { planeado: 7.2, observado: 7.0 },
            "2025": { planeado: 7.5, observado: 7.3 }
        };

        const anioActual = new Date().getFullYear();  // Obtener el año actual
        const años = Object.keys(datosIDEB).filter(anio => parseInt(anio) <= anioActual);  // Filtrar solo hasta el año actual

        // Obtener los datos de los años
        const labels = años;
        const planeadoData = años.map(anio => datosIDEB[anio].planeado);
        const observadoData = años.map(anio => datosIDEB[anio].observado);

        let ctx = document.getElementById('grafico').getContext('2d');

        let grafico = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,  // Los años en el eje X
                datasets: [{
                    label: 'Planeado',
                    data: planeadoData,  // Datos de planeado por año
                    backgroundColor: 'blue',
                    borderColor: 'blue',
                    borderWidth: 1,
                    barPercentage: 0.35,  // Reducir el tamaño de las barras
                    categoryPercentage: 0.5  // Ajustar el espacio entre las barras
                }, {
                    label: 'Observado',
                    data: observadoData,  // Datos de observado por año
                    backgroundColor: 'red',
                    borderColor: 'red',
                    borderWidth: 1,
                    barPercentage: 0.35,  // Reducir el tamaño de las barras
                    categoryPercentage: 0.5
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 0.2
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
